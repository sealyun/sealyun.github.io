<!DOCTYPE html>
<html lang="en-us">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?2803648cc5852dd3e9e46bbd0bf63366";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>kubernetes CRD如此简单</title>
  <meta name="author" content="" />

  
  <meta name="keywords" content="devows, hugo, go">	
  

  
  <meta name="description" content="Site template made by devcows using hugo">	
  

  <meta name="generator" content="Hugo 0.54.0" />

  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.green.css" rel="stylesheet" id="theme-stylesheet">
  


  
  <link href="/css/custom.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />
  

  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  <link rel="alternate" href="https://sealyun.com/index.xml" type="application/rss+xml" title="SealYun">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@GoHugoIO">
  <meta name="twitter:title" content="kubernetes CRD如此简单">
  <meta name="twitter:image" content="https://sealyun.com/img/CRD.png">
  <meta name="twitter:description" content="Site template made by devcows using hugo">

  
  <meta property="og:title" content="kubernetes CRD如此简单" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sealyun.com/blog/2019/07/20/crd//" />
  <meta property="og:image" content="/img/logo.png" />

</head>


  <body>
      <img src="https://sealyun.com/img/qrcode.png" style="width:140px;position:fixed;right:10px;bottom:10px;z-index:10;"/>
      <img src="http://sealyun.com/img/qrcode1.jpg" style="width:140px;position:fixed;right:10px;bottom:160px;z-index:10;"/>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="https://sealyun.com/">
                    <img src="https://sealyun.com//img/logo.png" style="width:100px" alt="kubernetes CRD如此简单 logo" class="hidden-xs hidden-sm">
                    <img src="https://sealyun.com//img/logo-small.png" alt="kubernetes CRD如此简单 logo" class="visible-xs visible-sm">
                    <span class="sr-only">kubernetes CRD如此简单 - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fa fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                  
                  
                  <li class="dropdown">
                    
                    <a href="/">首页</a>
                    
                  </li>
                  
                  
                  <li class="dropdown active">
                    
                    <a href="/blog/">博客</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="http://store.lameleg.com">kubernetes离线安装</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="https://sealyun.com/blog/2019/04/15/sealos2.0/">安装文档</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="/faq">常见问题</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="/changelog">版本变更说明</a>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">

                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                </span>
                    </div>
                </form>

            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>kubernetes CRD如此简单</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        <p class="text-muted text-uppercase mb-small text-right">By <a href="#">fanux</a> | July 20, 2019</p>

                        <div id="post-content">
                          <p>扩展kubernetes两个最常用最需要掌握的东西：自定义资源CRD 和 adminsion webhook, 本文教你如何十分钟掌握CRD开发.</p>

<p>kubernetes允许用户自定义自己的资源对象，就如同deployment statefulset一样，这个应用非常广泛，比如prometheus opterator就自定义Prometheus对象，再加上一个自定义的controller监听到kubectl create Prometheus时就去创建Pod组成一个pormetheus集群。rook等等同理。</p>

<p>我需要用kubernetes调度虚拟机，所以这里自定义一个 VirtualMachine 类型</p>

<p><img src="/img/CRD.png" alt="" /></p>

<h1 id="kubebuilder-https-github-com-kubernetes-sigs-kubebuilder"><a href="https://github.com/kubernetes-sigs/kubebuilder">kubebuilder</a></h1>

<p>kubebuilder能帮我们节省大量工作，让开发CRD和adminsion webhook变得异常简单。</p>

<h2 id="安装">安装</h2>

<p>通过源码安装：</p>

<pre><code>git clone https://github.com/kubernetes-sigs/kubebuilder
cd kubebuilder
make build
cp bin/kubebuilder $GOPATH/bin
</code></pre>

<p>或者下载二进制：</p>

<pre><code>os=$(go env GOOS)
arch=$(go env GOARCH)

# download kubebuilder and extract it to tmp
curl -sL https://go.kubebuilder.io/dl/2.0.0-beta.0/${os}/${arch} | tar -xz -C /tmp/

# move to a long-term location and put it on your path
# (you'll need to set the KUBEBUILDER_ASSETS env var if you put it somewhere else)
sudo mv /tmp/kubebuilder_2.0.0-beta.0_${os}_${arch} /usr/local/kubebuilder
export PATH=$PATH:/usr/local/kubebuilder/bin
</code></pre>

<p>还需要装下<a href="https://github.com/kubernetes-sigs/kustomize">kustomize</a> 这可是个渲染yaml的神器，让helm颤抖。</p>

<pre><code>go install sigs.k8s.io/kustomize/v3/cmd/kustomize
</code></pre>

<h2 id="使用">使用</h2>

<p>注意你得先有个kubernetes集群，<a href="https://github.com/fanux/sealos">一步安装走你</a></p>

<blockquote>
<p>创建CRD</p>
</blockquote>

<pre><code>kubebuilder init --domain sealyun.com --license apache2 --owner &quot;fanux&quot;
kubebuilder create api --group infra --version v1 --kind VirtulMachine
</code></pre>

<blockquote>
<p>安装CRD并启动controller</p>
</blockquote>

<pre><code>make install # 安装CRD
make run # 启动controller
</code></pre>

<p>然后我们就可以看到创建的CRD了</p>

<pre><code># kubectl get crd
NAME                                           AGE
virtulmachines.infra.sealyun.com                  52m
</code></pre>

<p>来创建一个虚拟机：</p>

<pre><code># kubectl apply -f config/samples/
# kubectl get virtulmachines.infra.sealyun.com 
NAME                   AGE
virtulmachine-sample   49m
</code></pre>

<p>看一眼yaml文件：</p>

<pre><code># cat config/samples/infra_v1_virtulmachine.yaml 
apiVersion: infra.sealyun.com/v1
kind: VirtulMachine
metadata:
  name: virtulmachine-sample
spec:
  # Add fields here
  foo: bar
</code></pre>

<p>这里仅仅是把yaml存到etcd里了，我们controller监听到创建事件时啥事也没干。</p>

<blockquote>
<p>把controller部署到集群中</p>
</blockquote>

<pre><code>make docker-build docker-push IMG=fanux/infra-controller
make deploy
</code></pre>

<p>我是连的远端的kubenetes, make docker-build时test过不去，没有etcd的bin文件，所以先把test关了。</p>

<p>修改Makefile:</p>

<pre><code># docker-build: test
docker-build: 
</code></pre>

<p>Dockerfile里的<code>gcr.io/distroless/static:latest</code> 这个镜像你也可能拉不下来，随意改改就行，我改成了<code>golang:1.12.7</code></p>

<p>也有可能构建时有些代码拉不下来，启用一下go mod vendor 把依赖打包进去</p>

<pre><code>go mod vendor
如果你本地有些代码拉不下来，可以用proxy:
</code></pre>

<p>export GOPROXY=<a href="https://goproxy.io">https://goproxy.io</a></p>

<pre><code></code></pre>

<p>再改下Dockerfile, 注释掉download：</p>

<p>修改后：</p>

<pre><code># Build the manager binary
FROM golang:1.12.7 as builder

WORKDIR /go/src/github.com/fanux/sealvm
# Copy the Go Modules manifests
COPY . . 

# Build
RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o manager main.go

# Use distroless as minimal base image to package the manager binary
# Refer to https://github.com/GoogleContainerTools/distroless for more details
# FROM gcr.io/distroless/static:latest
FROM golang:1.12.7
WORKDIR /
COPY --from=builder /go/src/github.com/fanux/sealvm/manager .
ENTRYPOINT [&quot;/manager&quot;]
</code></pre>

<p><code>make deploy</code> 时报错： <code>Error: json: cannot unmarshal string into Go struct field Kustomization.patches of type types.Patch</code></p>

<p>把 <code>config/default/kustomization.yaml</code> 中的 <code>patches:</code> 改成 <code>patchesStrategicMerge:</code> 即可</p>

<p><code>kustomize build config/default</code> 这个命令就渲染出了controller的yaml文件，可以体验下</p>

<p>看 你的controller已经跑起来了：</p>

<pre><code>kubectl get deploy -n sealvm-system
NAME                        DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
sealvm-controller-manager   1         1         1            0           3m
kubectl get svc -n sealvm-system
NAME                                        TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)    AGE
sealvm-controller-manager-metrics-service   ClusterIP   10.98.71.199   &lt;none&gt;        8443/TCP   4m
</code></pre>

<h2 id="开发">开发</h2>

<h3 id="增加对象数据参数">增加对象数据参数</h3>

<p>看下config/samples下面的yaml文件：</p>

<pre><code>apiVersion: infra.sealyun.com/v1
kind: VirtulMachine
metadata:
  name: virtulmachine-sample
spec:
  # Add fields here
  foo: bar
</code></pre>

<p>这里参数里有<code>foo:bar</code>， 那我们来加个虚拟CPU，内存信息：</p>

<p>直接<code>api/v1/virtulmachine_types.go</code>即可</p>

<pre><code>// VirtulMachineSpec defines the desired state of VirtulMachine
// 在这里加信息
type VirtulMachineSpec struct {
	// INSERT ADDITIONAL SPEC FIELDS - desired state of cluster
	// Important: Run &quot;make&quot; to regenerate code after modifying this file
	CPU    string `json:&quot;cpu&quot;`   // 这是我增加的
	Memory string `json:&quot;memory&quot;`
}

// VirtulMachineStatus defines the observed state of VirtulMachine
// 在这里加状态信息，比如虚拟机是启动状态，停止状态啥的
type VirtulMachineStatus struct {
	// INSERT ADDITIONAL STATUS FIELD - define observed state of cluster
	// Important: Run &quot;make&quot; to regenerate code after modifying this file
}
</code></pre>

<p>然后make一下：</p>

<pre><code>make &amp;&amp; make install &amp;&amp; make run
</code></pre>

<p>这时再去渲染一下controller的yaml就会发现CRD中已经带上CPU和内存信息了：</p>

<p><code>kustomize build config/default</code></p>

<pre><code>properties:
  cpu:
    description: 'INSERT ADDITIONAL SPEC FIELDS - desired state of cluster
      Important: Run &quot;make&quot; to regenerate code after modifying this file'
    type: string
  memory:
    type: string
</code></pre>

<p>修改一下yaml:</p>

<pre><code>apiVersion: infra.sealyun.com/v1
kind: VirtulMachine
metadata:
  name: virtulmachine-sample
spec:
  cpu: &quot;1&quot;
  memory: &quot;2G&quot;
</code></pre>

<pre><code># kubectl apply -f config/samples 
virtulmachine.infra.sealyun.com &quot;virtulmachine-sample&quot; configured
# kubectl get virtulmachines.infra.sealyun.com virtulmachine-sample -o yaml 
apiVersion: infra.sealyun.com/v1
kind: VirtulMachine
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {&quot;apiVersion&quot;:&quot;infra.sealyun.com/v1&quot;,&quot;kind&quot;:&quot;VirtulMachine&quot;,&quot;metadata&quot;:{&quot;annotations&quot;:{},&quot;name&quot;:&quot;virtulmachine-sample&quot;,&quot;namespace&quot;:&quot;default&quot;},&quot;spec&quot;:{&quot;cpu&quot;:&quot;1&quot;,&quot;memory&quot;:&quot;2G&quot;}}
  creationTimestamp: 2019-07-26T08:47:34Z
  generation: 2
  name: virtulmachine-sample
  namespace: default
  resourceVersion: &quot;14811698&quot;
  selfLink: /apis/infra.sealyun.com/v1/namespaces/default/virtulmachines/virtulmachine-sample
  uid: 030e2b9a-af82-11e9-b63e-5254bc16e436
spec:      # 新的CRD已生效
  cpu: &quot;1&quot;
  memory: 2G 
</code></pre>

<p>Status 同理，就不再赘述了，比如我把status里加一个Create, 表示controller要去创建虚拟机了(主要一些控制层面的逻辑)，创建完了把状态改成Running</p>

<h3 id="reconcile-唯一需要实现的接口">Reconcile 唯一需要实现的接口</h3>

<p>controller把轮训与事件监听都封装在这一个接口里了.你不需要关心怎么事件监听的.</p>

<h4 id="获取虚拟机信息">获取虚拟机信息</h4>

<pre><code>func (r *VirtulMachineReconciler) Reconcile(req ctrl.Request) (ctrl.Result, error) {
	ctx = context.Background()
	_ = r.Log.WithValues(&quot;virtulmachine&quot;, req.NamespacedName)

	vm := &amp;v1.VirtulMachine{}
	if err := r.Get(ctx, req.NamespacedName, vm); err != nil { # 获取VM信息
		log.Error(err, &quot;unable to fetch vm&quot;)
	} else {
        fmt.Println(vm.Spec.CPU, vm.Spec.Memory) # 打印CPU内存信息
	}

	return ctrl.Result{}, nil
}
</code></pre>

<p><code>make &amp;&amp; make install &amp;&amp; make run</code>这个时候去创建一个虚拟机<code>kubectl apply -f config/samples</code>,日志里就会输出CPU内存了. List接口同理，我就不赘述了</p>

<pre><code>r.List(ctx, &amp;vms, client.InNamespace(req.Namespace), client.MatchingField(vmkey, req.Name))
</code></pre>

<h4 id="更新状态">更新状态</h4>

<p>在status结构体中加入状态字段：</p>

<pre><code>type VirtulMachineStatus struct {
	Status string `json:&quot;status&quot;`
}
</code></pre>

<p>controller里去更新状态：</p>

<pre><code>vm.Status.Status = &quot;Running&quot;
if err := r.Status().Update(ctx, vm); err != nil {
	log.Error(err, &quot;unable to update vm status&quot;)
}
</code></pre>

<p>如果出现:<code>the server could not find the requested resource</code> 这个错误，那么在CRD结构体上需要加个注释 <code>// +kubebuilder:subresource:status</code>：</p>

<pre><code>// +kubebuilder:subresource:status
// +kubebuilder:object:root=true

type VirtulMachine struct {
	metav1.TypeMeta   `json:&quot;,inline&quot;`
	metav1.ObjectMeta `json:&quot;metadata,omitempty&quot;`

	Spec   VirtulMachineSpec   `json:&quot;spec,omitempty&quot;`
	Status VirtulMachineStatus `json:&quot;status,omitempty&quot;`
}
</code></pre>

<p>这样就好了</p>

<p>编译启动后再去apply发现状态已经变成running：</p>

<pre><code># kubectl get virtulmachines.infra.sealyun.com virtulmachine-sample -o yaml
...
status:
  status: Running 
</code></pre>

<h4 id="删除">删除</h4>

<pre><code>time.Sleep(time.Second * 10)
if err := r.Delete(ctx, vm); err != nil {
	log.Error(err, &quot;unable to delete vm &quot;, &quot;vm&quot;, vm)
}
</code></pre>

<p>10s之后我们将GET不到</p>

<h3 id="删除回收器-finalizers">删除回收器 Finalizers</h3>

<p>如果不使用Finalizers，kubectl delete 时直接就删了etcd数据，controller再想去拿CRD时已经拿不到了：</p>

<pre><code>ERRO[0029] VirtulMachine.infra.sealyun.com &quot;virtulmachine-sample&quot; not foundunable to fetch vm  source=&quot;virtulmachine_controller.go:48&quot;
</code></pre>

<p>所以在创建时我们需要给CRD加上Finalizer:</p>

<pre><code>vm.ObjectMeta.Finalizers = append(vm.ObjectMeta.Finalizers, &quot;virtulmachine.infra.sealyun.com&quot;)
</code></pre>

<p>然后删除时就只会给CRD打上一个删除时间戳，供我们做后续处理, 处理完了我们删除掉Finalizers：</p>

<pre><code>如果 DeleteionTimestamp不存在
    如果没有Finalizers
        加上Finalizers,并更新CRD
要不然，说明是要被删除的
    如果存在Finalizers，删除Finalizers,并更新CRD
</code></pre>

<p>看个完整的代码示例：</p>

<pre><code>if cronJob.ObjectMeta.DeletionTimestamp.IsZero() {
        if !containsString(cronJob.ObjectMeta.Finalizers, myFinalizerName) {
            cronJob.ObjectMeta.Finalizers = append(cronJob.ObjectMeta.Finalizers, myFinalizerName)
            if err := r.Update(context.Background(), cronJob); err != nil {
                return ctrl.Result{}, err
            }
        }
    } else {
        if containsString(cronJob.ObjectMeta.Finalizers, myFinalizerName) {
            if err := r.deleteExternalResources(cronJob); err != nil {
                return ctrl.Result{}, err
            }

            cronJob.ObjectMeta.Finalizers = removeString(cronJob.ObjectMeta.Finalizers, myFinalizerName)
            if err := r.Update(context.Background(), cronJob); err != nil {
                return ctrl.Result{}, err
            }
        }
    }
</code></pre>

<h3 id="失败重试">失败重试</h3>

<p>假设我们A依赖B而B又后创建，那么在处理A CRD时直接返回失败即可，这样很快会重试</p>

<h3 id="webhook">webhook</h3>

<p>kuberentes有三种webhook,admission webhook, authorization webhook and CRD conversion webhook.</p>

<p>这里比如我们要给CRD设置一些默认值，又或者是用户创建时少填了一些参数，那么我们得禁止创建等等这些事。</p>

<p>使用webhook也非常的简单，只需给定义的结构体实现 <code>Defaulter</code> 和 <code>Validator</code>接口即可.</p>

<h4 id="其它接口">其它接口</h4>

<p>Reconcile结构体聚合了Client接口，所以client的所有方法都是可以直接调用，大部分是对CRD object的相关操作</p>

<pre><code>type Client interface {
	Reader
	Writer
	StatusClient
}
</code></pre>

<pre><code>// Reader knows how to read and list Kubernetes objects.
type Reader interface {
	// Get retrieves an obj for the given object key from the Kubernetes Cluster.
	// obj must be a struct pointer so that obj can be updated with the response
	// returned by the Server.
	Get(ctx context.Context, key ObjectKey, obj runtime.Object) error

	// List retrieves list of objects for a given namespace and list options. On a
	// successful call, Items field in the list will be populated with the
	// result returned from the server.
	List(ctx context.Context, list runtime.Object, opts ...ListOptionFunc) error
}

// Writer knows how to create, delete, and update Kubernetes objects.
type Writer interface {
	// Create saves the object obj in the Kubernetes cluster.
	Create(ctx context.Context, obj runtime.Object, opts ...CreateOptionFunc) error

	// Delete deletes the given obj from Kubernetes cluster.
	Delete(ctx context.Context, obj runtime.Object, opts ...DeleteOptionFunc) error

	// Update updates the given obj in the Kubernetes cluster. obj must be a
	// struct pointer so that obj can be updated with the content returned by the Server.
	Update(ctx context.Context, obj runtime.Object, opts ...UpdateOptionFunc) error

	// Patch patches the given obj in the Kubernetes cluster. obj must be a
	// struct pointer so that obj can be updated with the content returned by the Server.
	Patch(ctx context.Context, obj runtime.Object, patch Patch, opts ...PatchOptionFunc) error
}

// StatusClient knows how to create a client which can update status subresource
// for kubernetes objects.
type StatusClient interface {
	Status() StatusWriter
}
</code></pre>

<p>探讨可加QQ群：98488045</p>
                        </div>
                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "devcows" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://sealyun.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            <li><a href="https://sealyun.com/categories/starting">starting (1)</a>
            </li>
            
        </ul>
    </div>
</div>








<div class="panel sidebar-menu">
    <div class="panel-heading">
      <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            <li><a href="https://sealyun.com/tags/dev"><i class="fa fa-tags"></i> dev</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/dotscale"><i class="fa fa-tags"></i> dotscale</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/event"><i class="fa fa-tags"></i> event</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/install"><i class="fa fa-tags"></i> install</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/kubeadm"><i class="fa fa-tags"></i> kubeadm</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/kubernetes"><i class="fa fa-tags"></i> kubernetes</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/network"><i class="fa fa-tags"></i> network</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/sealos"><i class="fa fa-tags"></i> sealos</a>
            </li>
            
            <li><a href="https://sealyun.com/tags/sketchnote"><i class="fa fa-tags"></i> sketchnote</a>
            </li>
            
        </ul>
    </div>
</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>About us</h4>

            把我们实践过程中好的东西拿出来给大家复用，收点小费，我们很用心，用我们产品也很值得

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

             
            <h4>Recent posts</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://sealyun.com/blog/2019/08/03/kustomize/">
                          
                            <img src="https://sealyun.com/img/kustomize.jpeg" class="img-responsive" alt="kustomize 颤抖吧helm!">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://sealyun.com/blog/2019/08/03/kustomize/">kustomize 颤抖吧helm!</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://sealyun.com/blog/2019/07/30/genie/">
                          
                            <img src="https://sealyun.com/CNI.png" class="img-responsive" alt="CNI 小精灵 genie">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://sealyun.com/blog/2019/07/30/genie/">CNI 小精灵 genie</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://sealyun.com/blog/2019/07/30/cni/">
                          
                            <img src="https://sealyun.com/CNI.png" class="img-responsive" alt="彻底理解 kubernetes CNI">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://sealyun.com/blog/2019/07/30/cni/">彻底理解 kubernetes CNI</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
             

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <strong>fhtjob@hotmail.com</strong>
      </p>
      


            <a href="/contact" class="btn btn-small btn-template-main">Go to contact page</a>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2015 - 2016, Beiming; all rights reserved.</p>
            
            <p class="pull-right">
              Template by <a href="http://bootstrapious.com/free-templates">Bootstrapious</a>.
              

              Ported to Hugo by <a href="https://github.com/devcows/hugo-universal-theme">DevCows</a>
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="https://sealyun.com/js/hpneo.gmaps.js"></script>
<script src="https://sealyun.com/js/gmaps.init.js"></script>
<script src="https://sealyun.com/js/front.js"></script>


<script src="https://sealyun.com/js/owl.carousel.min.js"></script>


  </body>
</html>

<style>
#post-content img {
    width: 100%;
    height: 100%;
}
</style>
